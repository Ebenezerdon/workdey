<%= render 'partials/sidebar_dashboard' %>
<main>
  <div class="container">
    <div class="row">
      <div class="col m8 offset-m2">
        <h3>Create Need</h3>
        <%= form_for @task do |f| %>
          <%= render "partials/error_msg", object:  @task%>
          <div class="row">
            <div class="input-field col s12">
              <i class="material-icons prefix">edit_mode</i>
              <%= f.label :name, "Title" %>
              <%= f.text_field :name, class: "form-control", required: true %>
            </div>
            <div class="input-field col s12">
              <i class="material-icons prefix">description</i>
              <%= f.label :description, "Description" %>
              <%= f.text_area "description", class: "materialize-textarea", required: true %>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s4">
              <i class="material-icons prefix">perm_contact_calendar</i>
              <%= f.label :start_date, "Start Date" %>
              <%= f.date_field :start_date, class: "datepicker start_date", required: true %>
            </div>
            <div class="input-field col s4">
              <i class="material-icons prefix">perm_contact_calendar</i>
              <%= f.label :end_date, "End Date" %>
              <%= f.date_field :end_date, class: "datepicker end_date", required: true %>
            </div>
            <div class="input-field col s4">
              <i class="material-icons prefix">schedule</i>
              <%= f.label :time, "Start Time" %>
              <%= f.text_field "time", class: "timepicker", id: "timepicker" %>
            </div>
          </div>
          <div class="row">
            <div class="input-field col m6 jiji">
              <i class="material-icons prefix ji">work</i>
              <%= f.collection_select :skillset_id, @skillsets, :id, :name, prompt: "Choose a skillset" %>
            </div>
            <div class=" input-field col m6">
              <i class="material-icons prefix">credit_card</i>
              <%= f.label :price %>
              <%= f.text_field :price, pattern: "[0-9]+", class: "form-control", required: true %>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12 location">
              <i class="material-icons prefix">my_location</i>
              <label for="location"> Location (street, city) </label>
              <%= f.text_field "location" %>
              <%= f.text_field "latitude", hidden: true %>
              <%= f.text_field "longitude", hidden: true %>
              <div id="location-map"></div>
            </div>
          </div>
          <div class="row">
            <div class="right">
              <button class="btn waves-effect waves-light" id="post-need-submit" type="submit">Post Need
                <i class="material-icons right">send</i>
              </button>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
<div id="scripts"></div>
</main>
